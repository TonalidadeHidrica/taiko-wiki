*BPMとは [#what_is_bpm]

-BPMとは、「Beats Per Minute」。日本語にすると「1分間あたりのビート（拍）」。
--「拍」は太鼓の達人（に限らず音楽ゲーム全般）では4分音符1つを「1つの拍」として扱う((音楽の世界では楽譜の「○分の×拍子」によって1拍に相当する音符が変化する。))。

-ちなみに、「BPM200」のような使い方が主流になっているが、厳密には「200BPM」と書くのが正しい。
--「BPM200」と書くのは、時速80kmを「km/h80」と書いているようなものである。
--このページでは慣例にしたがって「BPM○○」の書き方で統一する。

-平均密度、連打秒数、[[太鼓ギネス]]関連の値は、すべてが以下の式を変形したものから求められる。

 拍 ÷ BPM × 60 ＝ 時間[秒]

-''BPMはそのままでは1分間、つまり60秒をベースにしているため計算上都合が悪い。''よって60を掛けたり割ったりして扱いやすいようにする。

**音符から拍への変換 [#note_to_beat]
 4 ÷ n[分音符] ＝ 拍

-付点音符は「その数字の音符を1.5倍の拍にしたもの」。付点8分なら0.5拍×1.5で0.75拍になる。

|音符|拍数(分数)|拍数(約分した分数)|拍数(小数)|h
|2分|4/2|＝2|2|
|付点4分|(4/4)×(3/2)|＝3/2|1.5|
|4分|4/4|＝1|1|
|付点8分|(4/8)×(3/2)|＝3/4|0.75|
|6分|4/6|＝2/3|約0.666666667|
|8分|4/8|＝1/2|0.5|
|付点16分|(4/16)×(3/2)|＝3/8|0.375|
|12分|4/12|＝1/3|約0.333333333|
|16分|4/16|＝1/4|0.25|
|24分|4/24|＝1/6|約0.166666667|
|32分|4/32|＝1/8|0.125|
|48分|4/48|＝1/12|約0.083333333|

-上の表にない音符間隔の場合は「48分音符いくつぶんか」で考える。[[青空のラプソディ(裏譜面)>難易度表/おに/青空のラプソディ(裏譜面)]]なら48分音符7つぶん＝7/12拍、48分音符5つぶん＝5/12拍となる。

-譜面データでは、4/4小節を48等分した位置に音符を置けるシステムになっているらしい。そのため、通常の方法では32分音符を配置することができない。

|60|130|BGCOLOR(white):|c
|音符|48等分したものの数||h
|2分|24||
|付点4分|18|~|
|4分|12|~|
|付点8分|9|~|
|6分|8|~|
|8分|6|~|
|付点16分|COLOR(red):''(4.5)''|~|
|12分|4|~|
|16分|3|~|
|24分|2|~|
|32分|COLOR(red):''(1.5)''|~|
|48分|1|~|

--赤文字の音符間隔を置く方法については「[[疑似32分音符>用語集/1#one-eighth]]」を参照のこと。

**瞬間密度 [#instantaneous_density]

-「[[ドンカマ2000>難易度表/おに/ドンカマ2000]]にあるBPM292.38の24分音符は、約29.24打/秒」といったもの。

 BPM × n[分音符] ÷ 240 ＝ 瞬間密度[打/秒]
または
 BPM ÷ 60 ÷ 拍 ＝ 瞬間密度[打/秒]

-[[ドンカマ2000>難易度表/おに/ドンカマ2000]]の場合は「BPM292.38」の「24分音符」なので、292.38×24÷240＝29.238→約29.24打/秒となる。
--2つめの方法なら「BPM292.38」の「24分音符(=1/6拍)」なので、292.38÷60÷(1/6)＝29.238→約29.24打/秒となる。

**平均密度 [#average_density]

 (最大コンボ数 - 1) ÷ 演奏時間[秒] ＝ 平均密度[打/秒]

-以下の理由から、最大コンボ数から1を引く。
--BPM60で●　●　●　●　●(4分間隔)という譜面がある場合、それぞれの間隔を見れば平均密度が1打/秒であるのは明らかだが、(音符の数/時間)で計算(つまり→●　●　●　●　●←　この間の平均密度を計算し最後の空白を切り捨てる)すると5打/4秒＝1.25打/秒となる。音符数-1の考え方は、最後の音符のギリギリ手前までの時間とし音符の数から1を引き計算(→●　●　●　●　←●　 )すれば音符だけでなく空白の平均も保たれることとなり最初の1打/秒とも一致するため、このWikiではこの方法で統一している。

**演奏時間 [#playing_time]

-黄色連打や風船はコンボに関係ない音符のため、1曲を通しての平均密度を求める際には、初めと終わりの連打を演奏時間に含めない。

 拍 ÷ BPM × 60 ＝ 演奏時間[秒]

-拍数には、「1コンボ目が始まる瞬間」から「最後のコンボの音符が始まる瞬間」までの拍の数を使う。「最後のコンボの音符が始まる瞬間」とは「最後のコンボの1つ前の音符が終わる瞬間」と言い換えることもできる。
--[[忍道 1巻>難易度表/その他/忍道　1巻]]のような、1コンボしかない譜面の演奏時間は定義上''0秒''となり、平均密度を求める式(最大コンボ数 - 1) ÷ 演奏時間[秒]に代入しても(1-1)÷0＝0÷0、解くことができない。

-[[ドドンガド〜ン>難易度表/おに/ドドンガド〜ン]]の場合は「BPM200」「400拍」なので、400×60÷200＝120[秒]。120秒はちょうど2分である。
--拍子変化が少ない曲の場合は小節数から拍数を求めることもできる。[[ドドンガド〜ン>難易度表/おに/ドドンガド〜ン]]なら1〜64小節の64小節間が4拍子…4拍×64つ＝256拍、65〜80小節のの16小節間が3拍子…3拍×16つ＝48拍、81〜104小節の24小節間が4拍子…4拍×244つ＝96拍。合計400拍になる。

-BPM変化がある場合、それぞれのBPMの区間で演奏時間を求め、最後にすべての演奏時間を合計することで求めることができる。

-[[ボレロ>難易度表/おに/ボレロ]]の場合は、~
&size(9){1.5/63.9*60+3/64.58*60+3/65.6*60+3/64.71*60+3/64.96*60+3/64.71*60+3/64.58*60+3/65.97*60+3/63.67*60+3/66.81*60+3/65.98*60+3/65.96*60+3/66.4*60+3/65.62*60+3/64.11*60+3/64.92*60+3/65.01*60+3/65.6*60+3/65.41*60+3/64.77*60+3/65.74*60+9/64.03*60+3/66.18*60+6/65.09*60+3/64.42*60+3/64.69*60+3/66.63*60+6/66.4*60+3/67.08*60+3/64.24*60+3/65.3*60+3/66.26*60+3/66.32*60+3/66.65*60+3/65.5*60+3/64.87*60+3/65.96*60+3/67.08*60+6/64.66*60+3/65.09*60+3/66.85*60+2/67.08*60+1/82.17*60};~
……という非常にややこしい計算式で求められる。演奏時間は約127.82秒。
--[[ボレロ>難易度表/おに/ボレロ]]は黄色連打から始まっているため、1小節目開始から1コンボ目までを除外した拍数で計算すること。

**連打秒数 [#roll_duration]

 (拍 - 1/12拍) ÷ BPM × 60 ＝ 連打秒数[秒]

-[[さいたま2000>難易度表/おに/さいたま2000]]と[[Nesin Amatias>難易度表/おに/Nesin Amatias]]を見比べればわかる通り、黄色連打の終端は見た目が少し短くなっている。この「少し」というのは48分音符1つぶんとされている。
--譜面画像では、あらかじめ1/12拍短くしてあることがある。その長さで計算する場合は1/12拍を引かないで計算すること。
--[[さいたま2000>難易度表/おに/さいたま2000]]の52〜53小節の黄色連打は、「3.5拍-1/12拍」÷「BPM200」なので、(3.5-1/12)÷200×60＝1.025[秒]、56〜57小節の黄色連打は、(4.5-1/12)÷200×60＝1.325[秒]となる。

**音符換算 [#note_conversion]

-「[[初音ミクの消失 -劇場版-(裏譜面)>難易度表/おに/初音ミクの消失‐劇場版‐(裏譜面)]]のBPM240の24分音符はBPM360の16分音符相当」といったもの。

 元々のBPM × 元の音符 ÷ 目標の音符 ＝ 換算BPM

-[[初音ミクの消失 -劇場版-(裏譜面)>難易度表/おに/初音ミクの消失‐劇場版‐(裏譜面)]]の場合は元々のBPMが240、元の音符が24分音符、16分音符に換算したいので、240×24÷16＝360となる。

**打/秒からいくつのBPMの16分音符になるかの計算 [#bps_to_16note]

 打/秒 × 15 ＝ 16分音符のBPM

-20.0打/秒の間隔の音符は、20×15＝300、つまりBPM300の16分音符相当ということになる。

**音符間隔のミリ秒 [#millisecond]

 240000 ÷ BPM ÷ n[分音符] ＝ 音符間隔[ミリ秒]

-n分音符で $\frac{240000}{BPM \times n}$ ミリ秒

***参考 [#reference]
-[[用語集]]
-[[連打秒数表]]
-[[太鼓ギネス/音符について#density]]
-[[疑問解決所]]

***コメント [#comment]
#pcomment(,noname)
